<div class="profile-container">
  <h2>Thông tin tài khoản</h2>
  <app-loading-spinner *ngIf="isLoading"></app-loading-spinner>
  <div *ngIf="error" class="error">{{ error }}</div>
  <div *ngIf="!isLoading && !error && user" class="profile-content">
    <div *ngIf="!isEditing" class="profile-view">
      <p><strong>Tên người dùng:</strong> {{ user.username }}</p>
      <p><strong>Email:</strong> {{ user.email }}</p>
      <button class="edit-btn" (click)="toggleEdit()">Chỉnh sửa</button>
    </div>
    <div *ngIf="isEditing" class="profile-edit">
      <form (ngSubmit)="updateProfile()">
        <div class="form-group">
          <label for="username">Tên người dùng:</label>
          <input type="text" id="username" name="username" [(ngModel)]="profileForm.username" required />
        </div>
        <div class="form-group">
          <label for="email">Email:</label>
          <input type="email" id="email" name="email" [(ngModel)]="profileForm.email" required />
        </div>
        <div class="form-actions">
          <button type="submit" class="submit-btn" [disabled]="isLoading">
            {{ isLoading ? 'Đang xử lý...' : 'Lưu thay đổi' }}
          </button>
          <button type="button" class="cancel-btn" (click)="toggleEdit()" [disabled]="isLoading">Hủy</button>
        </div>
      </form>
    </div>
  </div>
</div>
